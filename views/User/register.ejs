<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Arpeggio Music</title>
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/userRegister.css">
</head>

<body>
    <%- include('../partials/header') %>
    <main>
        <div class="main-container">
            <div class="left-column">
                <% if(action === 'register') { %>
                    <form class="form-center" method="POST" action="/user">
                <% } %>
                <% if(action === 'update') { %>
                    <form class="form-center" method="POST" action="/user/<%= user.id %>?_method=PUT">
                <% } %>
                    <div class="separacion">
                        <label for="userName">Usuario</label>
                        <input class="form-input <%= errors.userName? errors.userName : '' %>" type="text" name="userName" id="userName" value="<%= user ? user.userName : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="firstName">Nombre</label>
                        <input class="form-input" type="text" name="firstName" id="firstName" value="<%= user ? user.firstName : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="lastName">Apellido</label>
                        <input class="form-input" type="text" name="lastName" id="lastName" value="<%= user ? user.lastName : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="dni">DNI</label>
                        <input class="form-input <%= errors.dni? errors.dni : '' %>" type="number" name="dni" id="dni" value="<%= user ? user.dni : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="email">E-mail</label>
                        <input class="form-input <%= errors.email? errors.email : '' %>" type="email" name="email" id="email" value="<%= user ? user.email : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="address">Direccion</label>
                        <input class="form-input" type="text" name="address" id="address" value="<%= user ? user.address : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="city">Provincia</label>
                        <input class="form-input" type="text" name="city" id="city" value="<%= user ? user.city : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="phone">Teléfono</label>
                        <input class="form-input" required type="tel" name="phone" id="phone" value="<%= user ? user.phone : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="password">Contraseña</label>
                        <input class="form-input <%= errors.password? errors.password : '' %>" type="password" name="password" id="password" value="<%= user ? user.password : '' %>">
                    </div>
                    <div class="separacion">
                        <label for="confirmPassword">Confirmar contraseña</label>
                        <input class="form-input <%= errors.password? errors.password : '' %>" type="password" name="confirmPassword" id="confirmPassword" value="<%= user ? user.confirmPassword : '' %>">
                    </div>
                    <div>
                        <button class="btn-format" type="submmit">Enviar</button>
                    </div>
                    <% if(errors){ %>
                        <div>
                            <p class="text-error">Por favor verifique los datos cargados</p>
                        </div>
                    <% } %>
                </form>
            </div>
        </div>
    </main>
    <%- include('../partials/footer') %>
</body>

</html>